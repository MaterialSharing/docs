## 当前问题分析

- 将不同考纲的词汇怎么处理
  - 放在不同表

    - 好处是清晰
    
  - 放在一张表
  
    - 为每个单词增加一个examType字段
    - 采用多表查询的策略
      - 不同考纲的单词通过外键(wrod的wordSpelling)来获取单词释义等字段值
    - > - 一种思想是在一条记录的同一个字段有个取值时,将其拆分为多条记录加以存放
      > - 主属性采用原主键+多值的那个字段构成多字段主键
      >
    
  - 收藏表和搜索记录表是否分开放

## 要不要拆表

> 基于如下考虑,我决定不拆分word表(将词形(诸如past tense/presentParticiple/pastParticiple))从而提高查询效率



- 很多字段一个表的优点和缺点，然后你能不能容忍这些缺点，如果不能，那么拆。 大致的说说 优点：包含全部字段的表，在查询时避免了连表查询，程序处理起来比方便，有时候某些表会加进一些冗余字段，也就是为了避免连表查询。查询的效率方面有优势。 缺点：如果字段里面有大字段（text,blob)类型的，而且这些字段的访问并不多，这时候放在一起就变成缺点了。 

- MYSQL数据库的记录存储是按行存储的，数据块大小又是固定的（16K），每条记录越小，相同的块存储的记录就越多。此时应该把大字段拆走，这样应付大部分小字段的查询时，就能提高效率。当需要查询大字段时，此时的关联查询是不可避免的，但也是值得的。拆分开后，对字段的UPDAE就要UPDATE多个表了

- 用于查询和展示的 不建议分表， 若只是存储数据，可以考虑分表。

  

## 单词表的设计

* 以操作四级词汇为例
* 需要的功能:用户背诵四级词汇的时候,首先要能够查询到所有四级词汇
* 结合用户的学习进度,应该能够取得第i个四级词汇

### 将数据库四级数据全部返回,由后端再计算选出指定序号的单词

### 由数据库直接查询到指定需要的四级单词

- 经过我的斟酌,决定由数据库直接返回指定序号的四级单词
- 这可以减少重复计算,(而且每次返回的数据量也大为精确和减少,以便于高效使用)

  > 客户机与服务器的格式 可在SQL语句内完成的许多转换和格式化工作都可以直接在客户机应用程序内完成。但一
  > 般来说，在数据库服务器上完成这些操作比在客户机中完成要快得多，因为DBMS是设计来快速有效地完成这种处
  > 理的。
  >

  > - 在单词(释义)表(词典)之外,我们另外建立一个简单的数据库(大纲单词索引)来存储四级拼写以及对应的序号(拼写spelling)作为该表的外键,即引用单词释义表的主机(spelling
  > - 在这种应用场景下,计算过一遍所得到的有序数据可以反复利用,(相当牺牲空间来换取时间)
  >

  - 当一个请求需要到来,我们根据需要快速得到相应的单词(spelling),我们就可以拿着这个key去单词词典表里头去查对应拼写的单词的释义等信息
  - 这样,即使考纲发生编话,我们需要变动的表也就是四级单词索引表

## 数据类型

### user

### examWords

```sql
ALTER TABLE `ela`.`examwords` 
ADD COLUMN `wordSpelling` varchar(255) NULL AFTER `WID`,
ADD COLUMN `examType` varchar(255) NULL AFTER `wordSpelling`,
ADD CONSTRAINT `wordSpelling` FOREIGN KEY (`wordSpelling`) REFERENCES `ela`.`words` (`wordSpelling`);
```

![1648170962804.png](image/DataBase/1648170962804.png)
